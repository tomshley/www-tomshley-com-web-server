'use strict';(function(d,b){function m(e,n){this.moduleA=e;this.moduleB=n;this._key=null;this.isSatisfied=!1}function l(e,n,x){this.name=e;this._isExternal="js"===e.substr(e.lastIndexOf(".")+1)||-1<e.lastIndexOf(":")||"/"===e.substr(0,1);this.isLoaded=this.isLoading=this._isActive=!1;this.moduleRelations={};this.errorCount=0;this.errorTimeout=null;this.define(n,x)}b.keys||(b.keys=function(e){if(e!==b(e))throw new TypeError("Object.keys called on a non-object");var n=[],x;for(x in e)b.prototype.hasOwnProperty.call(e,
    x)&&n.push(x);return n});var q=d.__paste__||function(){var e=d.paste||this;e&&e.hasOwnProperty&&e instanceof q||(e=new q,e._instanceStart=(new Date).getTime());return e},v=document.head||document.getElementsByTagName("head")[0],t=!document.head,w={};d.__paste__=q;d.paste=q();var y="/paste/";m.prototype={getKey:function(){this._key||(this._key=this.moduleA.name+"|"+this.moduleB.name);return this._key},trySatisfyActivate:function(){this.trySatisfy();this.isSatisfied&&this.moduleA.activate();return this.isSatisfied},
    trySatisfy:function(){this.moduleB.isDefined?this.isSatisfied=this.moduleB.activate():this.moduleB.load();this.isSatisfied&&this.moduleA.updateRelation(this);return this.isSatisfied}};m.add=function(e,n){e=new m(e,n);e.trySatisfy();return e};m.getAll=function(){var e=b.keys(w),n,x=e.length,B=[],D;for(n=0;n<x;n+=1){var J=w[e[n]].moduleRelations;var G=b.keys(J);var E=G.length;for(D=0;D<E;D+=1)B.push(J[G[D]])}return B};l.prototype={_parseDependencies:function(){var e=this.dependencies,n=0,x=e.length;
        for(n;n<x;n+=1){var B=m.add(this,l.define(e[n]));this.moduleRelations[B.getKey()]=B}},_cleanup:function(){delete this.moduleRelations;this.moduleRelations={};delete this.isLoading;delete this.isLoaded;delete this.name;delete this.dependencies;delete this._fn;delete this._isExternal;delete this.errorCount;delete this.errorTimeout},define:function(e,n){if(this._isActive)return!0;this._isExternal&&(e=e||[],this.load());this.isDefined="array"===typeof e||null!==e&&"object"===typeof e&&e instanceof Array;
        if(!this.isDefined)return!1;this.dependencies=e;this._fn=n;this._parseDependencies();this.activate();return!0},hasDirtyRelations:function(e){if(this._isActive)return!1;e=e||b.keys(this.moduleRelations).length;return 0<e||this._isExternal&&!this.isLoaded},updateRelation:function(e){this._isActive||e.isSatisfied&&delete this.moduleRelations[e.getKey()]},activate:function(){if(this._isActive||!this.isDefined)return this._isActive;if(this.hasDirtyRelations()){var e=b.keys(this.moduleRelations);var n=
        0;var x=e.length;for(n;n<x;n+=1){var B=this.moduleRelations[e[n]];B.trySatisfy()}if(this.hasDirtyRelations())return!1}this._isActive=!0;this._fn&&(n=l.getActivationParts(this.name,this.dependencies),e=this._fn.apply(d.paste,n[1]))&&(n=n[0],n[0][n[1]]=e);this._cleanup();return this._isActive},load:function(){if(!this._isActive&&!this.isLoaded&&!this.isLoading){window.clearTimeout(this.errorTimeout);this.errorTimeout=null;var e=document.createDocumentFragment(),n=document.createElement("script");n.type=
        "text/javascript";n.async=!0;n.charset="utf-8";n.src=this._isExternal?this.name:l.getURIFromName(this.name);n.data=this.name;n.addEventListener?(n.addEventListener("load",l.handleSourceSuccess,!1),n.addEventListener("error",l.handleSourceError,!1)):n.attachEvent&&(n.readyState?n.attachEvent("onreadystatechange",l.handleReadyStateChange):n.attachEvent("onload",l.handleSourceSuccess),n.attachEvent("onerror",l.handleSourceError));t?v.appendChild(n):(e.appendChild(n),v.appendChild(e));this.isLoading=
        !0}}};l._disposeSourceListeners=function(e,n){n.isLoading=!1;e.removeEventListener?(e.removeEventListener("load",l.handleSourceSuccess,!1),e.removeEventListener("error",l.handleSourceError,!1)):e.detachEvent&&(e.readyState?e.detachEvent("onreadystatechange",l.handleReadyStateChange):e.detachEvent("onload",l.handleSourceSuccess),e.detachEvent("onerror",l.handleSourceError))};l.handleReadyStateChange=function(e){var n=e.target||e.srcElement;n&&("loaded"===n.readyState.toLowerCase()||"complete"===n.readyState.toLowerCase())&&
l.handleSourceSuccess(e)};l.handleSourceSuccess=function(e){e=e.target||e.srcElement;var n=m.getAll(),x=n.length,B=0,D=w[e.data];l._disposeSourceListeners(e,D);D.isLoaded=!0;for(B;B<x;B+=1)n[B].trySatisfyActivate()};l.handleSourceError=function(e){var n=(e=e.target||e.srcElement)?e.src:null,x=w[e.data];l._disposeSourceListeners(e,x);v.removeChild(e);x.errorCount+=1;window.clearTimeout(x.errorTimeout);if(5>=x.errorCount)x.errorTimeout=window.setTimeout(function(){x.load()},5E3);else throw Error("Error loading resource. Max attempts reached. "+
    n);n=null};l.getURIFromName=function(e){if(1>e.length)throw Error("paste.require - please specify a correct module name and package hierarchy (empty string)");if(-1<e.lastIndexOf("/"))throw Error("paste.require - please specify a correct module name and package hierarchy");return y+e+".js"};l.getActivationParts=function(e,n){var x=function(G){G=G.split(".");var E=0,p=G.length,a=window;for(E;E<p;E+=1){var g=G[E];var u=a;a[g]=a[g]||{};a=a[g]}return[u,g,a]};e=x(e);var B=[e[2]],D=0,J=n.length;for(D;D<
J;D+=1)B.push(x(n[D])[2]);return[e,B]};l.define=function(e,n,x){"string"!==typeof e&&(x=n,n=e,e="paste._internal$"+(new Date).getTime()+(65536*(1+Math.random())|0).toString(16).substring(1));if("function"===typeof n||null!==n&&"object"===typeof n&&n instanceof Function)x=n,n=[];w.hasOwnProperty(e)?w[e].isDefined||w[e].define(n,x):w[e]=new l(e,n,x);return w[e]};d.paste.define=l.define;d.paste.define.amd={multiversion:!1};d.paste.require=function(e,n){if("string"===typeof e||null!==e&&"object"===typeof e&&
    e instanceof String)e=[e];return l.define(e,n)};d.paste.config=function(e){e.hasOwnProperty("packagesUrl")&&(y=e.packagesUrl)};d.paste.instanceStart=d.paste._instanceStart})(window,Object);paste.define("paste.guid",function(d){d.Guid=function(){var b=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b()};d.Guid.create=function(){return d.Guid()}});
paste.define("paste.oop",function(d){var b,m,l=function(t,w,y){this[w]=function(e,n){return function(){return n.apply(e,arguments)}}(t,y)},q,v=function(t,w,y){return function(){m=this.base;this.base=new l(this,t,y);q=w.apply(this,arguments);this.base=m;return q}};d.Class=function(){};d.Class.create=function(t){return d.Class.extend(t)};d.Class.extend=function(t){function w(){this.init&&this.init.apply(this,arguments)}var y=function(){};y.prototype=this.prototype;w.prototype=new y;w.prototype.constructor=
    w;for(b in t)t.hasOwnProperty(b)&&(w.prototype[b]="function"===typeof t[b]&&"function"===typeof y.prototype[b]?v(b,t[b],y.prototype[b]):t[b]);w.extend=d.Class.extend;return w}});
paste.define("paste.util",function(d){d.each=function(b,m,l){var q=0,v=b.length;if(l)for(q;q<v&&!m.call(l,b[q],q);q+=1);else for(q;q<v&&!m(b[q],q);q+=1);};d.range=function(b,m){for(var l=[];b<m;++b)l.push(b);return l};d.mixin=function(b,m,l){b=b||{};l=d.parseBoolean(l,!1);var q;if(!m)return b;for(q in m)!m.hasOwnProperty(q)||!l&&b.hasOwnProperty(q)||(b[q]=m[q]);return b};d.isEmptyObject=function(b){d.isObject(b);for(var m in b)if(b.hasOwnProperty(m))return!1;return!0};d.trim=function(b){return b.replace(/^\s\s*/,
    "").replace(/\s\s*$/,"")};d.trimSafe=function(b){return d.isString(b)?b.replace(/^\s\s*/,"").replace(/\s\s*$/,""):b};d.isEmptyString=function(b){return!1===d.isString(b)||!d.trim(b)};d.isArray=function(b){return"array"===typeof b||null!==b&&"object"===typeof b&&b instanceof Array};d.isBoolean=function(b){return"boolean"===typeof b||null!==b&&"object"===typeof b&&b instanceof Boolean};d.parseBoolean=function(b,m){var l=function(q){return d.isBoolean(q)?q:d.isString(q)?"true"===q.toLowerCase():null};
    b=l(b);l=l(m);return null!==b?b:null!==l?l:!1};d.isFunction=function(b){return"function"===typeof b||null!==b&&"object"===typeof b&&b instanceof Function};d.isNumber=function(b){return!isNaN(b)&&("number"===typeof b||null!==b&&"object"===typeof b&&b instanceof Number)};d.isString=function(b){return"string"===typeof b||null!==b&&"object"===typeof b&&b instanceof String};d.isNonEmptyString=function(b){return!0===d.isString(b)&&0<d.trim(b).length};d.isObject=function(b){return b?"object"===typeof b||
    d.isArray(b)||d.isFunction(b):!1};d.hasMethod=function(b,m){return d.isObject(b)&&d.isFunction(b[m])};d.numberInRange=function(b,m,l){return!(b<m||b>l)};d.cloneFunction=function(b){if(!1===d.isFunction(b))throw"Utility.cloneFunction: you passed a value that is not a function";var m,l=function(){return b.apply(this,arguments)};l.prototype=b.prototype;for(m in b)b.hasOwnProperty(m)&&"prototype"!==m&&(l[m]=b[m]);return l};d.cloneObject=function(b){if(null===b||"object"!==typeof b)return b;var m,l;if(b instanceof
    Date)return m=new Date,m.setTime(b.getTime()),m;if(b instanceof Array){m=[];var q=b.length;for(l=0;l<q;++l)m[l]=this.clone(b[l]);return m}if(b instanceof Object){m={};for(q in b)b.hasOwnProperty(q)&&(m[q]=this.cloneObject(b[q]));return m}throw"Unable to copy obj! Its type isn't supported.";};d.toCamelCase=function(b){return b.replace(/(\-[a-z])/g,function(m){return m.toUpperCase().replace("-","")})};d.toDashed=function(b){return b.replace(/([A-Z])/g,function(m){return"-"+m.toLowerCase()})};d.toUnderscored=
    function(b){return b.replace(/([A-Z])/g,function(m){return"_"+m.toLowerCase()})};d.stringStartsWith=function(b,m){return b&&b.slice(0,m.length)===m};d.stringEndsWith=function(b,m){return b&&b.slice(-m.length)===m};d.arrayContains=function(b,m){for(var l=b.length;l--;)if(b[l]===m)return!0;return!1};d.searchParamsAppend=function(b,m){var l="";if(d.isString(m))l=m;else if(d.isObject(m)){l={};var q=[];var v=0;var t=Object.keys(m);var w=t.length;for(v;v<w;v+=1){var y=t[v];"undefined"!==typeof l[y]&&m[y]===
l[y]||"length"===y||q.push(encodeURIComponent(y)+"="+encodeURIComponent(m[y]))}l=q.join("&")}return l?b?b+(b.indexOf("?")?"?":"&")+l:l:b};d.getSearchParams=function(){var b=window.location.search,m={},l;b=b.replace("?","").split("&");var q=b.length;for(l=0;l<q;l++){var v=b[l].split("=");m[v[0]]=v[1]}return m};d.dataset=function(){var b={},m=!1,l=!1,q={reset:function(){b={}},set:function(t,w){t.__data||(t.__data={});m||l||v(t);b[t.__data]=d.mixin(b[t.__data],w,!0)},get:function(t,w){m||l||v(t);return w?
        b[t.__data][w]:b[t.__data]}},v=function(t){m=!0;d.each(t.attributes,function(w){if(/^data-/.test(w.name)){var y={},e=d.toCamelCase(w.name.slice(5));y[e]=w.value;q.set(t,y)}});l=!0};return q}()});
paste.define("polyfills.getcomputedstyle",function(){if(!window.getComputedStyle){var d=/(\-([a-z]){1})/g,b=/^[\.\d]+(px)?$/i,m=/^-?\d/,l=function(q,v){var t=v;if(!b.test(v)&&m.test(v)&&q.runtimeStyle){t=q.style.left;var w=q.runtimeStyle.left;q.runtimeStyle.left=q.currentStyle.left;q.style.left=v||0;v=q.style.pixelLeft;q.style.left=t;q.runtimeStyle.left=w;t=v+"px"}return t};window.getComputedStyle=function(q){this.getPropertyValue=function(v){"float"==v&&(v="styleFloat");d.test(v)&&(v=v.replace(d,
    function(t,w,y){return y.toUpperCase()}));return q.currentStyle[v]?l(q,q.currentStyle[v]):null};return this}}});
paste.define("paste.dom",["paste.util","paste.oop"],function(d,b,m){if("undefined"!==typeof document&&!("classList"in document.createElement("a"))){if(!("HTMLElement"in window||"Element"in window))return;b=(window.HTMLElement||window.Element).prototype;var l=Object,q=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},v=Array.prototype.indexOf||function(a){for(var g=0,u=this.length;g<u;g++)if(g in this&&this[g]===a)return g;return-1},t=function(a,g){this.name=a;this.code=DOMException[a];
    this.message=g},w=function(a,g){if(""===g)throw new t("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(g))throw new t("INVALID_CHARACTER_ERR","String contains an invalid character");return v.call(a,g)},y=function(a){var g=q.call(a.className);g=g?g.split(/\s+/):[];for(var u=0,A=g.length;u<A;u++)this.push(g[u]);this._updateClassName=function(){a.className=this.toString()}},e=y.prototype=[],n=function(){return new y(this)};t.prototype=Error.prototype;e.item=function(a){return this[a]||
    null};e.contains=function(a){return-1!==w(this,a+"")};e.add=function(a){a+="";-1===w(this,a)&&(this.push(a),this._updateClassName())};e.remove=function(a){a=w(this,a+"");-1!==a&&(this.splice(a,1),this._updateClassName())};e.toggle=function(a){a+="";-1===w(this,a)?this.add(a):this.remove(a)};e.toString=function(){return this.join(" ")};if(l.defineProperty){e={get:n,enumerable:!0,configurable:!0};try{l.defineProperty(b,"classList",e)}catch(a){-2146823252===a.number&&(e.enumerable=!1,l.defineProperty(b,
    "classList",e))}}else l.prototype.__defineGetter__&&b.__defineGetter__("classList",n)}var x=/^[\.\d]+(px)?$/i,B=/^-?\d/,D=new Date,J="$JWindowStore-Dom-"+D.getTime()+"-",G=null,E="abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section subline summary time video".split(" "),p=null;d.getDocumentBody=function(){var a=window[J+"documentBody"];a||(window[J+"documentBody"]=a="string"===typeof document.compatMode&&0<=document.compatMode.indexOf("CSS")&&
document.documentElement?document.documentElement:document.body);return a};d.getHtml5Supported=function(){if(null===G){var a=document.createElement("div");a.innerHTML="<header></header>";G=0<a.childNodes.length}return G};d.innerHtml5=function(a){if(d.getHtml5Supported())return a;if(null===p){var g;p=document.createElement("div");p.innerHTML="<header></header>";var u=document.createDocumentFragment();for(g=E.length;g--;)u.createElement(E[g]);u.appendChild(p)}u=p;u.innerHTML=a;g=u.childNodes.length;
    for(a=document.createDocumentFragment();g--;)a.appendChild(u.firstChild);return a};"number"===typeof window.pageXOffset?(d.getScrollLeft=function(){return window.pageXOffset},d.getScrollTop=function(){return window.pageYOffset}):"number"===typeof d.getDocumentBody().scrollLeft?(d.getScrollLeft=function(){return d.getDocumentBody().scrollLeft},d.getScrollTop=function(){return d.getDocumentBody().scrollTop}):d.getScrollLeft=d.getScrollTop=function(){return NaN};d.getScrollWidth=function(){return d.getDocumentBody().scrollWidth};
    d.getScrollHeight=function(){return d.getDocumentBody().scrollHeight};"number"===typeof window.innerWidth?(d.getViewportHeight=function(){return window.innerHeight},d.getViewportWidth=function(){return window.innerWidth}):"number"===typeof d.getDocumentBody().clientWidth?(d.getViewportHeight=function(){return d.getDocumentBody().clientHeight},d.getViewportWidth=function(){return d.getDocumentBody().clientWidth}):d.getViewportHeight=d.getViewportWidth=function(){return NaN};d.getComputedStyle=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              g,u){return window.getComputedStyle?window.getComputedStyle(a,u||null).getPropertyValue(g):a.currentStyle?a.currentStyle[g]:!1};d.show=function(a){var g="$"+D+" _dom_hide_display",u=a[g];a.style.display=u||"block";u&&delete a[g]};d.hide=function(a){"none"!==a.style.display&&(a["$"+D+" _dom_hide_display"]=a.style.display,a.style.display="none")};d.querySelector=function(a,g){return document.querySelector?(g||document).querySelector(a):null};d.querySelectorAll=function(a,g){return document.querySelectorAll?
        (g||document).querySelectorAll(a):[]};d.get=d.getElement=function(a,g){return g?!0===g?d.querySelectorAll(a):d.querySelectorAll(a,g):document.getElementById(a)};d.elementExists=function(a){for(var g=document.body.parentNode;a;){if(a===g)return!0;a=a.parentNode}return!1};d.stripIdHash=function(a){return"#"===a.charAt(0)?a.slice(1):a};d.contains=function(a,g){if(!a)return!1;for(;a;){if(a===g)return!0;try{if(g=g.parentNode,!g.tagName||"BODY"===g.tagName.toUpperCase())break}catch(u){break}}return!1};
    d.hasCssClass=function(a,g){return a&&a.classList&&g?a.classList.contains(g):!1};d.removeCssClass=function(a,g){if(!a||!a.classList||!g)return!1;a.classList.remove(g);return!0};d.addCssClass=function(a,g){if(!a||!a.classList||!g)return!1;a.classList.add(g);return!0};d.toggleCssClass=function(a,g){if(!a||!a.classList||!g)return!1;a.classList.toggle(g);return!0};d.createFragment=function(a,g){var u=document.createDocumentFragment();g=document.createElement(g||"div");for(g.innerHTML=a;g.firstChild;)u.appendChild(g.firstChild);
        return u};d.getPixelValue=function(a,g){var u=g;if(!x.test(g)&&B.test(g)&&a.runtimeStyle){u=a.style.left;var A=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=g||0;g=a.style.pixelLeft;a.style.left=u;a.runtimeStyle.left=A;u=g+"px"}return u};d.Point=m.Class.create({init:function(a,g){this.x=a||0;this.y=g||0},combine:function(a){return new d.Point(this.x+=a.x,this.y+=a.y)}});d.Point.fromJQuery=function(a){return new d.Point(a.left,a.top)};d.Size=m.Class.create({init:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              g){this.width=a||0;this.height=g||0}});d.Size.fromElement=function(a){return a?new d.Size(a.offsetWidth,a.offsetHeight):new d.Size};d.Bounds=m.Class.create({init:function(a,g,u,A){this.left=a||0;this.top=g||0;this.width=u||0;this.height=A||0},getRight:function(){return this.left+this.width},getBottom:function(){return this.top+this.height},contains:function(a){return this.top>a.y||this.getBottom()<a.y?!1:!(this.left>a.x||this.getRight()<a.x)}});d.Bounds.fromElement=function(a){if(!a||"none"===a.style.display)return new d.Bounds;
        if(a.getBoundingClientRect)try{if("HTML"===a.tagName)return new d.Bounds;var g=a.getBoundingClientRect();return new d.Bounds(g.left-d.getDocumentBody().clientLeft+d.getScrollLeft(),g.top-d.getDocumentBody().clientTop+d.getScrollTop(),a.offsetWidth,a.offsetHeight)}catch(u){}if(document.getBoxObjectFor)try{return g=document.getBoxObjectFor(a),new d.Bounds(g.x,g.y,a.offsetWidth,a.offsetHeight)}catch(u){}g=new d.Bounds(a.offsetLeft,a.offsetTop,a.offsetWidth,a.offsetHeight);try{for(;null!==(a=a.offsetParent)&&
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           (g.left+=a.offsetLeft,g.top+=a.offsetTop,a!==document.body););}catch(u){}return g};d.MarkupWriter=m.Class.create({init:function(){this.writer=[]},toString:function(){return this.writer.join("")},toFragment:function(){return d.createFragment(this.toString())},push:function(a){this.writer.push(a)},append:function(a){this.push(a)},clear:function(){this.dispose();this.writer=[]},dispose:function(){this.writer=this.reset;delete this.writer},length:function(){return this.writer.length},isEmpty:function(){return 0===
            this.writer.length}});d.MarkupWriter.create=function(){return new d.MarkupWriter}});var c=!0,h=null,k=!1;
paste.define("paste.event",["paste.guid","paste.util"],function(d,b,m){function l(p){var a=h;p.target?a=p.target:p.srcElement&&(a=p.srcElement);return a}function q(p){p&&1===p.length&&(p=p[0]);this.o=y();this.data=p}function v(p,a,g,u){this.a=e(a)&&n(a)===k?a:"$pasteEvent-"+y();this.f=p&&p.nodeType||p===window?p:J?document:document.documentElement;this.i=p||window;this.g={};if(J)this.d=document.createEvent("Event"),this.d.initEvent(this.a,B(g),B(u,c)),this.d.pasteEvent=new q(h);else if(G)this.d=document.createEventObject(),
    this.d.pasteEvent=new q(h);else throw Error("Fatal event error");}function t(p,a,g,u,A,O){var L=y(),M;e(g)&&u&&(g=u[g]);A===c&&(A=1);this.b=a&&a.nodeType||a===window?a:J?document:document.documentElement;this.l=L;x(p,"getEventName")?(this.a=p.getEventName(),this.k=function(F,H){return function(I){I&&I===F.remove||F.remove(H)}}(p,L)):(this.a=p,this.k=function(){});this.m="";this.method=g;this.h=u;this.j=A||0;this.e=c;this.c=function(F){return function(H){var I=0===--F.j,K;if(F.e!==k){var C=H;C||(C=
    window.event);I&&(F.e=k);C.preventDefault||(C.preventDefault=function(){C.returnValue=k});C.stopPropagation||(C.stopPropagation=function(){C.cancelBubble=k});C.target||(C.target=C.srcElement);C.currentTarget||(C.currentTarget=C.srcElement);if(K=C.pasteEvent||h){H=K.o;var R=K.data;F.m===H?R=h:F.m=H}F.h?F.method.call(F.h,C,R):F.method(C,R);I&&F.remove()}}}(this);D?this.b.addEventListener(this.a,this.c,B(O,k)):window.attachEvent&&(x(p,"getEventName")?(p=p.a,M=m.cloneFunction(this.c),delete this.c,this.c=
    function(F,H){return function(I){var K=k;H===I.type?K=c:H===I.propertyName&&H+"$pasteEvent"in I.srcElement&&(I.pasteEvent=I.srcElement[H+"$pasteEvent"],K=c);K&&M.apply(F,arguments)}}(this,p),w.hasOwnProperty(p)&&(this.a="on"+p,this.b.attachEvent(this.a,this.c)),this.b[L+"$eventName"]="onpropertychange",this.b.attachEvent(this.b[L+"$eventName"],this.c)):(this.a="on"+p,this.b.attachEvent(this.a,this.c)))}var w={blur:h,change:h,click:h,contextmenu:h,copy:h,cut:h,dblclick:h,error:h,focus:h,focusin:h,
    focusout:h,hashchange:h,keydown:h,keypress:h,keyup:h,load:h,mousedown:h,mouseenter:h,mouseleave:h,mousemove:h,mouseout:h,mouseover:h,mouseup:h,mousewheel:h,paste:h,reset:h,resize:h,scroll:h,select:h,submit:h,textinput:h,unload:h,wheel:h},y=b.Guid.create,e=m.isString,n=m.isEmptyString,x=m.hasMethod,B=m.parseBoolean,D=window.addEventListener?c:k,J=document.createEvent?c:k,G=document.createEventObject?c:k,E=y();t.prototype.n=function(){if(D)this.b.removeEventListener(this.a,this.c,k);else if(window.attachEvent){var p=
    this.l+"$eventName";this.b[p]&&(this.b.detachEvent(this.b[p],this.c),delete this.b[p]);this.b.detachEvent(this.a,this.c)}};t.prototype.getGuid=function(){return this.l};t.prototype.remove=function(p){this.n();this.k(p);delete this.c;delete this.a;delete this.method;delete this.h;delete this.j;delete this.e};t.prototype.dispose=t.prototype.remove;t.prototype.attach=function(){return this.e?k:this.e=c};t.prototype.detach=function(){if(!this.e)return k;this.e=k;return c};t.prototype.isBound=function(){return this.e};
    v.prototype.getEventName=function(){return this.a};v.prototype.remove=function(p){if(x(p,"getGuid")){var a=p.getGuid();p.remove(this.remove);delete this.g[a]}else e(p)&&(this.g[p].remove(this.remove),delete this.g[p])};v.prototype.fire=function(){if(J)this.d.pasteEvent=new q(arguments||h),this.f.dispatchEvent(this.d);else if(G){var p=this.a;try{this.d.pasteEvent=new q(arguments||h),this.i.fireEvent("on"+p,this.d)}catch(g){this.f[p+"$pasteEvent"]=new q(arguments||h);var a=this.f[p];this.f[p]=a?this.f[p]+
        1:1}}};v.prototype.subscribe=function(p,a,g,u){p=new t(this,this.f,p,a||this.i,g,u);a=p.getGuid();this.g[a]=p;return this.g[a]};v.prototype.bind=v.prototype.subscribe;v.prototype.dispose=function(){var p=Object.keys(this.g),a,g=p.length;for(a=0;a<g;a+=1)this.remove(p[a]);delete this.d;delete this.f;delete this.i;delete this.g;delete this.a;delete this.d};d.bind=function(p,a,g,u,A,O){return new t(p,a,g,u,A,O)};d.getEventTarget=l;d.DocumentEvent={loaded:function(p,a,g){if(!window[E+"$pasteEvent$onLoad"])if(window[E+
        "$pasteEvent$onLoad"]=new v,"loaded"===document.readyState.toLowerCase()||"complete"===document.readyState.toLowerCase())var u=window.setTimeout(function(){window[E+"$pasteEvent$onLoad"].fire();window.clearTimeout(u);u=h},0);else!document.addEventListener&&document.attachEvent?document.readyState?document.attachEvent("onreadystatechange",function(){"loaded"!==document.readyState.toLowerCase()&&"complete"!==document.readyState.toLowerCase()||window[E+"$pasteEvent$onLoad"].fire()}):document.attachEvent("onload",
            function(){window[E+"$pasteEvent$onLoad"].fire()}):document.addEventListener&&window.addEventListener("load",function(){window[E+"$pasteEvent$onLoad"].fire()});return window[E+"$pasteEvent$onLoad"].subscribe(p,a,g)}};d.Event=v;d.Event.getEventTarget=l;d.Event.Subscription=d.Subscription=t});var f=null;
paste.define("tomshley.ui.heroscroll",["paste.guid","paste.util","paste.dom","paste.event","polyfills.getcomputedstyle"],function(d,b,m,l,q){function v(){window.clearTimeout(aa);ba.isBound()&&(aa=window.setTimeout(t,0))}function t(){H=l.getScrollTop();P=w()[0].c.top;N=l.getViewportHeight();m.each(w(),function(r){I=r.c.getBottom()-H;K=r.c.top-H;r.content&&r.a&&0<I&&K<N&&(T=window.getComputedStyle(r.content),X=(parseInt(T.getPropertyValue("margin-top"),10)||0)+(parseInt(T.getPropertyValue("top"),10)||
    0),Y=(parseInt(T.getPropertyValue("margin-bottom"),10)||0)+(parseInt(T.getPropertyValue("bottom"),10)||0),W=new l.Bounds(r.b.left,r.b.top+X,r.b.width,r.b.height-X-Y),R=W.getBottom()-H,C=W.top-H,C>N?S=0:R<=N&&C>=P?S=1:C<P&&I>=P?S=Math.max(0,1-(P-C)/W.height):I<P&&(S=0),J?r.content.style.opacity=S:r.content.style.filter="alpha(opacity="+100*S+")",W=Y=X=T=S=R=C=f);r.f&&(U=Math.max(I/N,0),J?U>r.e&&(r.a.style.opacity=U):U>100*r.e&&(r.a.style.filter="alpha(opacity="+100*U+")"),U=f);if(D&&r.a&&!r.g){var z=
    K;z-P>N?Q=1:(z=I-N,1>=z&&0<=z?z=1:0>=z&&-1<=z&&(z=-1),Q=Math.abs(z/N),.3<=Q?Q=.3:.3>=Q&&(Q=.3));z=z*Q+parseInt(r.d.backgroundPosition.y,10);z>H+K&&(z-=z-(H+K));r.a.style.backgroundAttachment="fixed";r.a.style.backgroundPosition="50% "+z+"px";Q=f}});N=P=K=I=f}function w(){g===f&&(u=l.get(".tomshley-hero",!0)||[],g=[],m.each(u,function(r){r.id||(r.id=b.Guid.create());B&&l.addCssClass(r,"tomshley-hero-touch");(A=l.querySelector(".tomshley-hero-image",r))&&!D&&(M=window.getComputedStyle(A).getPropertyValue("background-image"),
m.stringStartsWith(M,"url(")&&m.stringEndsWith(M,")")&&(M=M.slice(4,-1).replace(/['"]/g,""),A.style.backgroundImage="none",A.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+M+"', sizingMethod='scale');"));O=l.querySelector(".tomshley-hero-content",r);r.hasAttribute("data-hero-hashclick")&&(E.hasOwnProperty(r.id)?L=E[r.id]:B||(L=new q.Event.Subscription("click",r,n),E[r.id]=L));g.push({c:l.Bounds.fromElement(r),a:A,g:A&&A.hasAttribute("data-hero-image-fixed"),f:A&&A.hasAttribute("data-hero-image-fade"),
    e:A?A.getAttribute("data-hero-min-opacity")||0:0,d:y(A,e(A)),content:O,b:l.Bounds.fromElement(O),id:r.id})}),u=A=O=L=f);return g}function y(r,z){D&&r&&z&&!z.hasOwnProperty("backgroundPosition")&&(F=window.getComputedStyle(r).getPropertyValue("background-position").split(" "),z.backgroundPosition={x:F[0]||"50%",y:l.getPixelValue(r,F[1]||0)});return z}function e(r,z){var V,Z;z instanceof l.Bounds&&(V=z,z=f);r&&(r.hasAttribute("force-full-height")&&(z=z||l.getViewportHeight()+"px",r.style.height=z),
V&&(Z=V.backgroundPosition),V=l.Bounds.fromElement(r),Z)&&(V.backgroundPosition=Z);return V}function n(r){p=q.Event.getEventTarget(r);if(!l.hasCssClass(p,"tomshley-hero"))for(;!l.hasCssClass(p,"tomshley-hero");)try{if(p=p.parentNode,!p.tagName||"body"===p.tagName.toLowerCase()){p=f;break}}catch(z){p=f;break}(a=p.nextElementSibling||p.nextSibling)&&l.hasCssClass(a,"tomshley-hero")&&a.id&&(r.preventDefault(),r=a.id,G=new q.Event(window,"hashchange"),G.fire({newURL:r,updateHash:!1}),G.dispose(),G=f)}
    d=l.getDocumentBody();var x=document.getElementsByTagName("body")[0],B="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,D=void 0!==document.body.style.backgroundSize,J=void 0!==document.body.style.opacity,G,E={},p,a,g=f,u,A,O,L,M,F,H,I,K,C,R,S,P,N,Q,U,T,X,Y,W,ba=new q.Event.Subscription("scroll",window,t),aa,ca=new q.Event.Subscription("resize",window,function(){m.each(w(),function(r){r.c=l.Bounds.fromElement(l.get(r.id));r.d=y(r.a,e(r.a,r.d));r.b=l.Bounds.fromElement(r.content)});
        v()});B?(ba.detach(),ca.detach()):v();w();d.classList.add("tomshley-heroscroll-loaded");x.classList.add("tomshley-heroscroll-loaded")});